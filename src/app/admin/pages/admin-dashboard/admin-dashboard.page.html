<ion-menu type="reveal" contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menu Content</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <ion-list>
      <ion-item (click)="selectMenuItem('teams')">
        Teams
      </ion-item>
      <ion-item (click)="selectMenuItem('players')">
        Players
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>
<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>
        <div style="display: flex;
        align-items: center;
        justify-content: space-between;">
          <ion-label>
            Teams
          </ion-label>
          <ion-button *ngIf="selected_menu_item == 'teams'" id="open-modal"> Add New Team</ion-button>
          <ion-button *ngIf="selected_menu_item == 'players'" id="open-player-modal" (click)="resetPlayerInfo()"> Add New Player</ion-button>
        </div>

      </ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <ng-container *ngIf="selected_menu_item == 'teams'">
      <ion-list>
        <ion-item [routerLink]="['/team-players', team.id, team.name]" *ngFor="let team of teams"> {{team.name}}</ion-item>
      </ion-list>
      <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-button (click)="cancel()">Cancel</ion-button>
              </ion-buttons>
              <ion-title>Enter Team Details</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <ion-item>
              <ion-input
                label="Team Name"
                labelPlacement="stacked"
                type="text"
                placeholder="Team Name"
                [(ngModel)]="name"
              ></ion-input>
            </ion-item>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ng-container>

    <ng-container *ngIf="selected_menu_item == 'players'">
      <ion-list>
        <div *ngFor="let player of players" style="    display: flex;
        justify-content: space-between;
        align-items: center;"> 
          <div>
            {{player.data.name}}
          </div>
         
          <div>
            <ion-button (click)="editPlayer(player)">
              Edit
            </ion-button>
            <ion-button (click)="deletePlayer(player.id)">
              Delete
            </ion-button>
          </div>
         
        
        </div>
      </ion-list>
      <ion-modal [isOpen]="togglePlayerModal" trigger="open-player-modal" (willDismiss)="onPlayerModalWillDismiss($event)">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-button (click)="cancelPlayerModal()">Cancel</ion-button>
              </ion-buttons>
              <ion-title>Enter Team Details</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="confirmPlayerModal()" [strong]="true">Confirm</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <ion-item>
              <ion-input
                label="Player Name"
                labelPlacement="stacked"
                type="text"
                placeholder="Player Name"
                [(ngModel)]="player_name"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-select [value]="player_team_id" label="Select Team" placeholder="team" (ionChange)="onSelectPlayerTeam($event)">
                <ion-select-option [value]="team.id" *ngFor="let team of teams">{{team.name}}</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-input
                label="Add Scores (use , for mutiple scores)"
                labelPlacement="stacked"
                type="text"
                placeholder="Player Score"
                [(ngModel)]="player_score"
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-input
                label="Add Wicktes (use , for mutiple wicktes)"
                labelPlacement="stacked"
                type="text"
                placeholder="Player Wicktes"
                [(ngModel)]="player_wicktes"
              ></ion-input>
            </ion-item>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ng-container>
  
  </ion-content>
</div>